<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started with rcompendium • rcompendium</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started with rcompendium">
<meta property="og:description" content="rcompendium">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rcompendium</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rcompendium.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/FRBCesab/rcompendium/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rcompendium_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started with rcompendium</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/FRBCesab/rcompendium/blob/master/vignettes/rcompendium.Rmd"><code>vignettes/rcompendium.Rmd</code></a></small>
      <div class="hidden name"><code>rcompendium.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In the area of open science, making reproducible analyses is a strong prerequisite. But sometimes it is difficult 1) to find the good structure to organize files and 2) to set up the whole project. The aim of the package <code>rcompendium</code> is to make easier the creation of R package/research compendium (i.e. a predefined files/folders structure) so that users can focus on the code/analysis instead of wasting time organizing files.</p>
<p><br></p>
<p>A full ready-to-work structure will be set up with the following features:</p>
<ul>
<li>Initialization of the <a href="https://git-scm.com/">GIT</a> version control.</li>
<li>Creation of a minimal R package structure (<code>DESCRIPTION</code> and <code>NAMESPACE</code> files, and <code>R/</code> and <code>man/</code> folders).</li>
<li>Creation of additional files (<code>LICENSE.md</code>, <code>inst/CITATION</code>, etc.).</li>
<li>Creation of a <em>Get started</em> vignette in <code>vignettes/</code>.</li>
<li>Setting the units tests process.</li>
<li>Creation of a <code>README.Rmd</code> with HexSticker (template) and badges.</li>
<li>Autocompletion of maintainer information.</li>
<li>Creation of a GitHub repository.</li>
<li>Configuration of GitHub Actions to automatically:
<ul>
<li>check and test package (<code>R CMD Check</code>);</li>
<li>report the code coverage (<code>covr</code>);</li>
<li>build and deploy website (<code>pkgdown</code>).</li>
</ul>
</li>
</ul>
<p><br></p>
<p>The strength of <code>rcompendium</code> is to create the whole structure in one command line by using the function <code><a href="../reference/new_package.html">new_package()</a></code>. The default settings will produce the following structure (where <code>pkg</code> is the name of the package):</p>
<pre><code>pkg
│
├── pkg.Rproj                   # (optional) Created by user 
│
├── .git/                       # GIT tracking folder
├── .gitignore                  # Specific to R packages
|
├── .github/                    # (optional) GitHub Actions settings
│   └── workflows/
│       ├── pkgdown.yaml        # Configuration file to build &amp; deploy website
│       ├── R-CMD-check.yaml    # Configuration file to check &amp; test package
│       └── test-coverage.yaml  # Configuration file to build &amp; deploy website
│
├── _pkgdown.yaml               # (optional) User website settings
│
├── R/                          # R functions
│   ├── fun-demo.R              # Example of an R function
│   └── pkg-package.R           # Dummy R file for package-level documentation
│
├── man/                        # R functions helps (automatically updated)
│   ├── print_msg.Rd            # Documentation of the demo R function
│   ├── pkg-package.Rd          # Package-level documentation
│   └── figures/                # Figures for the README 
│       └── hexsticker.png      # Template R package HexSticker
│
├── tests/
│   ├── testthat.R              # Units tests settings
│   └── testthat/               # Units tests folder
│       └── test-demo.R         # Units tests for the function print_msg()
|
├── vignettes/
│   └── pkg.Rmd                 # (optional) Package tutorial              [*]
│
├── DESCRIPTION                 # Project metadata                         [*]
├── NAMESPACE                   # Automatically generated
├── .Rbuildignore               # List of files/folders to be ignored while 
│                               # checking the package
├── inst/
│   └── CITATION                # BiBTeX entry to cite the R package       [*]
│
├── LICENSE                     # (optional) If License = MIT
├── LICENSE.md                  # Content of the chosen license
│
├── README.md                   # GitHub README (automatically generated)
└── README.Rmd                  # GitHub README (to knit)                  [*]


[*] These files are automatically edited but user needs to add manually 
    some information (title, description, version, etc.).</code></pre>
<p><br></p>
<p>The second main function of <code>rcompendium</code> is <code><a href="../reference/new_compendium.html">new_compendium()</a></code>. It will add the following files/folders to the previous content:</p>
<pre><code>...
├── data/                       # User raw data (.csv, .gpkg, etc.)        
├── rscripts/                   # R scripts (no functions) to run analyses 
├── outputs/                    # Outputs created by R scripts             
├── figures/                    # Figures created by R scripts             
└── paper/                      # Article based on analyses                
│
└── make.R                      # Master R scripts to run all analyses     </code></pre>
<p>The folder <code>analysis/</code> and the file <code>make.R</code> will be added to the <code>.Rbuildignore</code> so that some parts of the compendium (essentially the R functions) can be installed as an R package (with <code><a href="https://devtools.r-lib.org//reference/install.html">devtools::install()</a></code>). Installing the package is optional.</p>
<p><br></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/FRBCesab/rcompendium">GitHub</a> with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Install &lt; remotes &gt; package (if not already installed) ----</span>
<span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="op">}</span>

<span class="co">## Install dev version of &lt; rcompendium &gt; from GitHub ----</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"FRBCesab/rcompendium"</span><span class="op">)</span></code></pre></div>
<p><br></p>
</div>
<div id="prerequisites" class="section level2">
<h2 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h2>
<p>Before using the package <code>rcompendium</code> you must follow these three steps.</p>
<div id="git-configuration" class="section level3">
<h3 class="hasAnchor">
<a href="#git-configuration" class="anchor"></a>GIT configuration</h3>
<p>First ensure that <strong>GIT</strong> is correctly installed on your machine and linked to RStudio. Read the Chapter 6 of <a href="https://happygitwithr.com/install-git.html">Happy Git and GitHub for the useR</a>.</p>
<p>You also need to store your GIT credentials locally (i.e. for the project) or globally (recommended). Run <code><a href="https://gh.r-lib.org/reference/gh_whoami.html">gh::gh_whoami()</a></code> to see if your git and associated credentials are correctly configured. If so you should see something like:</p>
<pre><code>{
"name": "John Doe",
"login": "jdoe",
"html_url": "https://github.com/jdoe",
(...)
}</code></pre>
<p>Otherwise you might need to run:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gert</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/gert/reference/git_config.html">git_config_global</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"user.name"</span>,   value <span class="op">=</span> <span class="st">"John Doe"</span><span class="op">)</span>
<span class="fu">gert</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/gert/reference/git_config.html">git_config_global</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"user.email"</span>,  value <span class="op">=</span> <span class="st">"john.doe@@domain.com"</span><span class="op">)</span>
<span class="fu">gert</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/gert/reference/git_config.html">git_config_global</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"github.user"</span>, value <span class="op">=</span> <span class="st">"jdoe"</span><span class="op">)</span></code></pre></div>
<p>See <code><a href="https://docs.ropensci.org/gert/reference/git_config.html">gert::git_config()</a></code> for further information.</p>
</div>
<div id="creating-a-github-repo" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-a-github-repo" class="anchor"></a>Creating a GitHub repo</h3>
<p>To create the GitHub repository directly from R, the package <code>rcompendium</code> uses the function <code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github()</a></code>, a client to the GitHub REST API. The interaction with this API requires an authentication method: a <strong>GITHUB PAT</strong> (Personal Access Token).</p>
<p>If you don’t have a <strong>GITHUB PAT</strong> locally stored, you must:</p>
<ol style="list-style-type: decimal">
<li>Obtain a new one from your GitHub account. <strong>Make sure to select at least the first two scopes (private repository and workflow)</strong>
</li>
<li>Store this token in the <code>.Renviron</code> file by using <code><a href="https://usethis.r-lib.org/reference/edit.html">usethis::edit_r_environ()</a></code> and adding the following line: <code>GITHUB_PAT='99z9...z9'</code>
</li>
</ol>
<p>Run <code><a href="https://usethis.r-lib.org/reference/github-token.html">usethis::gh_token_help()</a></code> for more information about getting and configuring a <strong>GITHUB PAT</strong>.</p>
<p>If everything is well configured, after calling <code><a href="https://gh.r-lib.org/reference/gh_whoami.html">gh::gh_whoami()</a></code> you should see something like:</p>
<pre><code>{
"name": "John Doe",
"login": "jdoe",
"html_url": "https://github.com/jdoe",
"scopes": "delete_repo, repo, workflow",
"token": "99z9...z9"
}</code></pre>
<p>Then you will be able to create a GitHub repository directly from R!</p>
</div>
<div id="managing-credentials" class="section level3">
<h3 class="hasAnchor">
<a href="#managing-credentials" class="anchor"></a>Managing credentials</h3>
<p>You can use the arguments <code>given</code>, <code>family</code>, <code>email</code>, and <code>orcid</code> directly with the function <code><a href="../reference/new_package.html">new_package()</a></code> (and others). But an alternative is to use <strong>ONCE AND FOR ALL</strong> the function <code><a href="../reference/set_credentials.html">set_credentials()</a></code> to permanently store this information in the <code>.Rprofile</code> file. If these arguments are set to <code>NULL</code> (default) each function of the package <code>rcompendium</code> will search in this <code>.Rprofile</code> file. It will save you a lot of time (that is the purpose of this package).</p>
<p>Even if you have stored your information in the <code>.Rprofile</code> file you will always be able to modify them on-the-fly (i.e. by using arguments of the <code><a href="../reference/new_package.html">new_package()</a></code> and others) or permanently by re-running <code><a href="../reference/set_credentials.html">set_credentials()</a></code>.</p>
<p><br></p>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The recommended workflow is:</p>
<ol style="list-style-type: decimal">
<li>
<strong>IMPORTANT -</strong> Create an empty RStudio project.</li>
<li>Store your credentials with <code><a href="../reference/set_credentials.html">set_credentials()</a></code> (if not already done).</li>
<li>Run <code><a href="../reference/new_package.html">new_package()</a></code> or <code><a href="../reference/new_compendium.html">new_compendium()</a></code> to create a new package/research compendium structure (and the GitHub repository if required).</li>
<li>Edit metadata in <code>DESCRIPTION</code>, <code>CITATION</code>, and <code>README.Rmd</code>.</li>
<li>Implement, document &amp; test functions.</li>
<li>Update the project with <code><a href="../reference/refresh.html">refresh()</a></code>. This will:</li>
</ol>
<ul>
<li>update <code>.Rd</code> files and <code>NAMESPACE</code>;</li>
<li>update external dependencies in <code>DESCRIPTION</code>;</li>
<li>update badges and re-knit <code>README.Rmd</code>;</li>
<li>check and test package (<code><a href="https://devtools.r-lib.org//reference/check.html">devtools::check()</a></code>);</li>
<li>run <code>make.R</code> if the project is a research compendium (optional because some analyses might be time consuming).</li>
</ul>
<ol start="7" style="list-style-type: decimal">
<li>Repeat steps 5 and 6 while working on the project.</li>
</ol>
<p><br></p>
<p>In addition to these four setup functions (<code><a href="../reference/set_credentials.html">set_credentials()</a></code>, <code><a href="../reference/new_package.html">new_package()</a></code>, <code><a href="../reference/new_compendium.html">new_compendium()</a></code>, and <code><a href="../reference/refresh.html">refresh()</a></code>), the package <code>rcompendium</code> offers 29 other functions. These can be grouped as:</p>
<ul>
<li>
<code>add_*()</code>: functions to add/update/overwrite files, configuration settings, dependencies, badges, etc.;</li>
<li>
<code>get_*()</code>: functions to retrieve some information (available licenses, R version, etc.).</li>
</ul>
<p>Visit the <a href="https://frbcesab.github.io/rcompendium/reference/index.html">Reference page</a> for further details.</p>
<p><br></p>
<p><strong>To sum up:</strong></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/FRBCesab/rcompendium">rcompendium</a></span><span class="op">)</span>

<span class="co">## Define **ONCE FOR ALL** your credentials ----</span>

<span class="fu"><a href="../reference/set_credentials.html">set_credentials</a></span><span class="op">(</span>given <span class="op">=</span> <span class="st">"John"</span>, family <span class="op">=</span> <span class="st">"Doe"</span>, 
                email <span class="op">=</span> <span class="st">"john.doe@@domain.com"</span>, 
                orcid <span class="op">=</span> <span class="st">"9999-9999-9999-9999"</span>, protocol <span class="op">=</span> <span class="st">"ssh"</span><span class="op">)</span>

<span class="co">## Create an R package structure ----</span>

<span class="fu"><a href="../reference/new_package.html">new_package</a></span><span class="op">(</span><span class="op">)</span>


<span class="co">## Then... </span>
<span class="co">## ... implement and document R functions in R/</span>
<span class="co">## ... write units tests in tests/testthat/</span>


<span class="co">## Update package (documentation, dependencies, README, check) ----</span>

<span class="fu"><a href="../reference/refresh.html">refresh</a></span><span class="op">(</span><span class="op">)</span>


<span class="co">## Update Repository Status (example) ----</span>

<span class="fu"><a href="../reference/add_repostatus_badge.html">add_repostatus_badge</a></span><span class="op">(</span>status <span class="op">=</span> <span class="st">"active"</span><span class="op">)</span>


<span class="co">## Change LICENSE (example) ----</span>

<span class="fu"><a href="../reference/get_licenses.html">get_licenses</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../reference/add_license.html">add_license</a></span><span class="op">(</span>license <span class="op">=</span> <span class="st">"MIT"</span><span class="op">)</span>


<span class="co">## Update package (documentation, dependencies, README, check) ----</span>

<span class="fu"><a href="../reference/refresh.html">refresh</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>And do not forget to commit changes and to push to GitHub to enjoy GitHub Actions!</p>
<p><strong>N.B.</strong> Users can also use functions from the package <a href="https://usethis.r-lib.org/"><code>usethis</code></a> to add some missing features (e.g. <code>data/</code> and package release tools).</p>
<p><br></p>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>You are welcome to contribute to the <code>rcompendium</code> project. Please read our <a href="https://frbcesab.github.io/rcompendium/CONTRIBUTING.html">Contribution Guidelines</a>.</p>
<p>Please note that the <code>rcompendium</code> project is released with a <a href="https://frbcesab.github.io/rcompendium/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
<p><br></p>
</div>
<div id="colophon" class="section level2">
<h2 class="hasAnchor">
<a href="#colophon" class="anchor"></a>Colophon</h2>
<p>This package is the result of intense discussions and feedback from the training course <a href="https://github.com/FRBCesab/datatoolbox">Data Toolbox for Reproducible Research in Computational Ecology</a> (in French).</p>
<p><code>rcompendium</code> is largely inspired by the package <a href="https://github.com/benmarwick/rrtools"><code>rrtools</code></a> developed by <a href="https://github.com/benmarwick">Ben Marwick <em>et al.</em></a> and tries to respect the standard defined by the community. <strong>Special thanks to these developers!</strong></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicolas Casajus.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
